{
    "version": [
        0,
        6,
        0
    ],
    "project": {
        "play": true,
        "time": 15.921907901763916,
        "fps": 60,
        "camera": [
            0.8254509935968162,
            0.060416501333996314,
            -0.5612312389172467,
            0.0,
            0.08681275654413474,
            0.9688392755554441,
            0.23197845469442036,
            0.0,
            0.5577581935491736,
            -0.24020887682964964,
            0.7944844196213038,
            0.0,
            -1.6732745806475202,
            0.7206266304889481,
            -2.3834532588639115,
            1.0
        ],
        "texture": "D:/work/raduga/rdapp/rdapp_v0.6.0/img/SRC_00003.jpg",
        "audio": "",
        "values": {
            "Random": {
                "_name": "Random",
                "type": "int",
                "ndim": 1,
                "_base": 36,
                "_track": {
                    "keyframes": [],
                    "viewport": [
                        0,
                        10,
                        1,
                        -1
                    ]
                },
                "_use_track": false
            },
            "Strength": {
                "_name": "Strength",
                "type": "float",
                "ndim": 1,
                "_base": 0.8199999999999998,
                "_track": {
                    "keyframes": [],
                    "viewport": [
                        0,
                        10,
                        1,
                        -1
                    ]
                },
                "_use_track": true
            },
            "Scale": {
                "_name": "Scale",
                "type": "float",
                "ndim": 1,
                "_base": 1.1500000000000001,
                "_track": {
                    "keyframes": [],
                    "viewport": [
                        0,
                        10,
                        1,
                        -1
                    ]
                },
                "_use_track": true
            },
            "TimeOffset": {
                "_name": "TimeOffset",
                "type": "float",
                "ndim": 1,
                "_base": 0.0,
                "_track": {
                    "keyframes": [],
                    "viewport": [
                        0,
                        10,
                        1,
                        -1
                    ]
                },
                "_use_track": true
            },
            "Loop": {
                "_name": "Loop",
                "type": "float",
                "ndim": 1,
                "_base": 1000.0,
                "_track": {
                    "keyframes": [],
                    "viewport": [
                        0,
                        10,
                        1,
                        -1
                    ]
                },
                "_use_track": true
            },
            "Speed": {
                "_name": "Speed",
                "type": "float",
                "ndim": 1,
                "_base": 1.0,
                "_track": {
                    "keyframes": [],
                    "viewport": [
                        0,
                        10,
                        1,
                        -1
                    ]
                },
                "_use_track": true
            },
            "Fill": {
                "_name": "Fill",
                "type": "bool",
                "ndim": 1,
                "_base": true,
                "_track": {
                    "keyframes": [],
                    "viewport": [
                        0,
                        10,
                        1,
                        -1
                    ]
                },
                "_use_track": false
            },
            "FillSize": {
                "_name": "FillSize",
                "type": "float",
                "ndim": 1,
                "_base": 1.2,
                "_track": {
                    "keyframes": [],
                    "viewport": [
                        0,
                        10,
                        1,
                        -1
                    ]
                },
                "_use_track": true
            },
            "Reflect": {
                "_name": "Reflect",
                "type": "bool",
                "ndim": 1,
                "_base": false,
                "_track": {
                    "keyframes": [],
                    "viewport": [
                        0,
                        10,
                        1,
                        -1
                    ]
                },
                "_use_track": false
            },
            "Size": {
                "_name": "Size",
                "type": "float",
                "ndim": 1,
                "_base": 1.0,
                "_track": {
                    "keyframes": [],
                    "viewport": [
                        0,
                        10,
                        1,
                        -1
                    ]
                },
                "_use_track": true
            },
            "Bump": {
                "_name": "Bump",
                "type": "float",
                "ndim": 1,
                "_base": 0.2,
                "_track": {
                    "keyframes": [],
                    "viewport": [
                        0,
                        10,
                        1,
                        -1
                    ]
                },
                "_use_track": true
            },
            "BumpColor": {
                "_name": "BumpColor",
                "type": "float",
                "ndim": 3,
                "_base": [
                    1.0,
                    1.0,
                    1.0
                ],
                "_track": {
                    "keyframes": [],
                    "viewport": [
                        0,
                        10,
                        1,
                        -1
                    ]
                },
                "_use_track": false
            },
            "FOV": {
                "_name": "FOV",
                "type": "float",
                "ndim": 1,
                "_base": 1.0,
                "_track": {
                    "keyframes": [],
                    "viewport": [
                        0,
                        10,
                        1,
                        -1
                    ]
                },
                "_use_track": true
            },
            "CamPersp": {
                "_name": "CamPersp",
                "type": "bool",
                "ndim": 1,
                "_base": true,
                "_track": {
                    "keyframes": [],
                    "viewport": [
                        0,
                        10,
                        1,
                        -1
                    ]
                },
                "_use_track": false
            },
            "CamVR": {
                "_name": "CamVR",
                "type": "bool",
                "ndim": 1,
                "_base": false,
                "_track": {
                    "keyframes": [],
                    "viewport": [
                        0,
                        10,
                        1,
                        -1
                    ]
                },
                "_use_track": false
            },
            "CamVR3D": {
                "_name": "CamVR3D",
                "type": "bool",
                "ndim": 1,
                "_base": false,
                "_track": {
                    "keyframes": [],
                    "viewport": [
                        0,
                        10,
                        1,
                        -1
                    ]
                },
                "_use_track": false
            },
            "Light": {
                "_name": "Light",
                "type": "float",
                "ndim": 1,
                "_base": 0.0,
                "_track": {
                    "keyframes": [],
                    "viewport": [
                        0,
                        10,
                        1,
                        -1
                    ]
                },
                "_use_track": true
            },
            "LightOff": {
                "_name": "LightOff",
                "type": "float",
                "ndim": 1,
                "_base": 0.0,
                "_track": {
                    "keyframes": [],
                    "viewport": [
                        0,
                        10,
                        1,
                        -1
                    ]
                },
                "_use_track": true
            },
            "LightPos": {
                "_name": "LightPos",
                "type": "float",
                "ndim": 3,
                "_base": [
                    4.0,
                    4.0,
                    0.0
                ],
                "_track": {
                    "keyframes": [],
                    "viewport": [
                        0,
                        10,
                        1,
                        -1
                    ]
                },
                "_use_track": false
            },
            "TexScale": {
                "_name": "TexScale",
                "type": "float",
                "ndim": 2,
                "_base": [
                    1.0,
                    1.0
                ],
                "_track": {
                    "keyframes": [],
                    "viewport": [
                        0,
                        10,
                        1,
                        -1
                    ]
                },
                "_use_track": false
            },
            "TexRotate": {
                "_name": "TexRotate",
                "type": "float",
                "ndim": 3,
                "_base": [
                    0.0,
                    0.0,
                    0.0
                ],
                "_track": {
                    "keyframes": [],
                    "viewport": [
                        0,
                        10,
                        1,
                        -1
                    ]
                },
                "_use_track": false
            }
        },
        "code": "uniform int Random;\nuniform float Strength;\nuniform float Scale;\nuniform float TimeOffset;\nuniform float Loop;\nuniform float Speed;\nuniform bool Fill;\nuniform float FillSize;\nuniform bool Reflect;\nuniform float Size;\nuniform float Bump;\nuniform vec3 BumpColor;\nuniform float FOV;\nuniform bool CamPersp;\nuniform bool CamVR;\nuniform bool CamVR3D;\nuniform float Light;\nuniform float LightOff;\nuniform vec3 LightPos;\nuniform vec2 TexScale;\nuniform vec3 TexRotate;\n\nRay camera() {\n\tif (CamVR) {\n\t\tif (CamVR3D) {\n\t\t\treturn camVR3D(FOV);\n\t\t} else {\n\t\t\treturn camVR();\n\t\t}\n\t}\n\telse {\n\t\tif (CamPersp) {\n\t\t\treturn camPerspective(FOV);\n\t\t} else {\n\t\t\treturn camParallel(FOV);\n\t\t}\n\t}\n}\n\nfloat shape(vec3 p) {\n\tif (!Fill) {\n\t\treturn sdSphere(p, Size);\n\t} else {\n\t\tvec3 camPos = (camera_mat * vec4(0.0,0.0,0.0,1.0)).xyz;\n\t\tfloat obj = sdSphere(p, Size);\n\t\tfloat back = -sdSphere(p-camPos, length(camPos)*FillSize);\n\t\treturn opSmoothUnion(obj, back, 0.5);\n\t}\n}\n\nvec3 distortion(vec3 p, float s, float f, float t, float sp, float l, float toff) {\n\tp += s*1.00*sin((1.0*f*p.yzx+normalize(rand3(Random+0)-0.5)*toff+floor(normalize(rand3(Random+0)-0.5)*sp*l)/l*t+rand3(Random+1))*PI*2);\n\tp += s*0.50*sin((2.0*f*p.yzx+normalize(rand3(Random+2)-0.5)*toff+floor(normalize(rand3(Random+2)-0.5)*sp*l)/l*t+rand3(Random+3))*PI*2);\n\tp += s*0.25*sin((4.0*f*p.yzx+normalize(rand3(Random+4)-0.5)*toff+floor(normalize(rand3(Random+4)-0.5)*sp*l)/l*t+rand3(Random+5))*PI*2);\n\tp += s*0.05*sin((8.0*f*p.yzx+normalize(rand3(Random+6)-0.5)*toff+floor(normalize(rand3(Random+6)-0.5)*sp*l)/l*t+rand3(Random+7))*PI*2);\n\treturn p;\n}\n\nvec3 distort(vec3 p) {\n\treturn distortion(p, Strength, Scale/4.0, time, Speed/10.0, Loop, TimeOffset);\n}\n\nvec4 project(vec3 p) {\n    p = distort(p);\n    p = rotate(p, TexRotate);\n    return sample(ctob(p) * TexScale);\n}\n\nfloat bump(vec3 p) {\n\tif (Bump == 0.0) {\n\t\treturn 0.0;\n\t} else {\n\t\tvec3 color = (project(p).rgb-0.5) * BumpColor;\n\t\treturn (color.x + color.y + color.z) / 3.0 * Bump;\n\t}\n}\n\nfloat map(vec3 p) {\n\tvec3 dp = distort(p);\n\treturn shape(dp) - bump(p);\n}\n\nvec4 display(float depth, float dist, vec3 pos, vec3 norm) {\n\tif (dist > RM_STOP_DIST && !Fill) {\n\t\treturn vec4(0.0);\n\t} else {\n\t\tif (Reflect) {\n\t\t\tRay cam = camera();\n\t\t\treturn sample(ctob(rotate(reflect(cam.pos-pos, norm),TexRotate))*TexScale);\n\t\t} else {\n\t\t\tfloat light = 0;\n\t\t\tif (Light != 0.0) {\n\t\t\t\tvec3 L = normalize(-LightPos - pos);\n\t\t\t\tlight = clamp(0.0, 1.0, dot(norm, L)-0.5)*Light+LightOff*Light;\n\t\t\t}\n\t\t\tvec4 color = project(pos);\n\t\t\treturn vec4(color.rgb+light, color.a);\n\t\t}\n\t}\n\n}",
        "script": "\nprint(\"Hello rdapp!\")\n\ndef update(dt):\n\tpass\n        "
    },
    "render_config": {
        "size": [
            2048,
            2048
        ],
        "max_patch": 512,
        "steps": 4096,
        "steps_max": 512,
        "step_scale": 100.0,
        "stop_dist": 100.0,
        "max_depth": 10,
        "min_depth": 0.001,
        "aa": 2,
        "path": "out/render/",
        "snap_path": "out/snap/",
        "frames": "0",
        "preview_max_size": 1024
    },
    "live_config": {
        "steps": 128,
        "step_scale": 10.0,
        "stop_dist": 100.0,
        "max_depth": 10,
        "min_depth": 0.001,
        "size": [
            729.0,
            721.0
        ],
        "margins": 10,
        "clear": true,
        "downscale": 1
    },
    "app_config": {
        "theme": 70
    }
}